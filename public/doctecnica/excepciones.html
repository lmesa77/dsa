
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://lmesa.gitlab.io/doc-nueva-arquitectura/doctecnica/excepciones.html">
      
      
        <link rel="prev" href="componentes.html">
      
      
        <link rel="next" href="estructura-carpetas.html">
      
      
      <link rel="icon" href="../assets/logo.svg">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.13">
    
    
      
        <title>Manejo de excepciones - Nueva Arquitectura</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
        <script src="https://unpkg.com/iframe-worker/shim"></script>
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Poppins";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#manejo-de-excepciones" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../index.html" title="Nueva Arquitectura" class="md-header__button md-logo" aria-label="Nueva Arquitectura" data-md-component="logo">
      
  <img src="../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Nueva Arquitectura
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Manejo de excepciones
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Claro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Claro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 6v12h8V6H8m6 4h-4V8h4v2m5.4-8.4C19 1.2 18.5 1 18 1H6c-.5 0-1 .2-1.4.6C4.2 2 4 2.5 4 3v18c0 .5.2 1 .6 1.4.4.4.9.6 1.4.6h12c.5 0 1-.2 1.4-.6.4-.4.6-.9.6-1.4V3c0-.5-.2-1-.6-1.4M18 21H6V3h12v18Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="black"  aria-label="Oscuro"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Oscuro" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.4 1.6C19 1.2 18.5 1 18 1H6c-.5 0-1 .2-1.4.6C4.2 2 4 2.5 4 3v18c0 .5.2 1 .6 1.4.4.4.9.6 1.4.6h12c.5 0 1-.2 1.4-.6.4-.4.6-.9.6-1.4V3c0-.5-.2-1-.6-1.4M18 21H6V3h12v18M8 6v12h8V6H8m7 11H9V7h6v10m-5-3h4v2h-4v-2Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Nueva Arquitectura" class="md-nav__button md-logo" aria-label="Nueva Arquitectura" data-md-component="logo">
      
  <img src="../assets/logo.svg" alt="logo">

    </a>
    Nueva Arquitectura
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contexto
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Definiciones
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Definiciones
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../definiciones.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arquitectura de dominio basada en Microservicios
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../serv-app.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Servidor de Aplicaciones
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../venta-contenido.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Venta de contenidos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dicc-datos.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Diccionario de datos
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../bitacora.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bitácora
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../inventario.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inventarios
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../poc.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pruebas de concepto
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../glosario.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glosario
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../links.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Links de Interés
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../backlog.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Backlog
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Documentación Técnica
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Documentación Técnica
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="documentacion.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arquitectura de Servicios de Dominio DSA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="mensaje.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    La Clase BaseMessage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="componentes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Componentes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Manejo de excepciones
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="excepciones.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Manejo de excepciones
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#para-que-sirve-el-manejo-de-excepciones" class="md-nav__link">
    <span class="md-ellipsis">
      ¿Para qué sirve el manejo de excepciones?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flujos-esperados" class="md-nav__link">
    <span class="md-ellipsis">
      Flujos Esperados
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Flujos Esperados">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#happy-path-camino-feliz" class="md-nav__link">
    <span class="md-ellipsis">
      Happy Path (Camino Feliz)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#violacion-de-reglas-de-negocio-o-usuario" class="md-nav__link">
    <span class="md-ellipsis">
      Violación de Reglas de Negocio o Usuario
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#excepcion-tecnica-o-de-codigo" class="md-nav__link">
    <span class="md-ellipsis">
      Excepción Técnica o de Código
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manejo-de-excepciones-en-la-dsa" class="md-nav__link">
    <span class="md-ellipsis">
      Manejo de Excepciones en la DSA
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#que-se-debe-tener-en-cuenta-al-manejar-excepciones" class="md-nav__link">
    <span class="md-ellipsis">
      ¿Qué se debe tener en cuenta al manejar excepciones?
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="estructura-carpetas.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Estructura de Carpetas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="trazabilidad.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trazabilidad Operativa
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="arquitectura-limpia.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Arquitectura Limpia
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="patron-pipeline.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Patrón Pipeline
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#para-que-sirve-el-manejo-de-excepciones" class="md-nav__link">
    <span class="md-ellipsis">
      ¿Para qué sirve el manejo de excepciones?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flujos-esperados" class="md-nav__link">
    <span class="md-ellipsis">
      Flujos Esperados
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Flujos Esperados">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#happy-path-camino-feliz" class="md-nav__link">
    <span class="md-ellipsis">
      Happy Path (Camino Feliz)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#violacion-de-reglas-de-negocio-o-usuario" class="md-nav__link">
    <span class="md-ellipsis">
      Violación de Reglas de Negocio o Usuario
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#excepcion-tecnica-o-de-codigo" class="md-nav__link">
    <span class="md-ellipsis">
      Excepción Técnica o de Código
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manejo-de-excepciones-en-la-dsa" class="md-nav__link">
    <span class="md-ellipsis">
      Manejo de Excepciones en la DSA
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#que-se-debe-tener-en-cuenta-al-manejar-excepciones" class="md-nav__link">
    <span class="md-ellipsis">
      ¿Qué se debe tener en cuenta al manejar excepciones?
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="manejo-de-excepciones">Manejo de excepciones</h1>
<p>El manejo de excepciones es una práctica clave en el desarrollo de software que permite garantizar la estabilidad, legibilidad y mantenibilidad de las aplicaciones frente a errores o situaciones inesperadas. A continuación, se detalla su importancia y consideraciones clave dentro de la DSA:</p>
<h2 id="para-que-sirve-el-manejo-de-excepciones">¿Para qué sirve el manejo de excepciones?</h2>
<p><strong>Prevención de fallos críticos:</strong></p>
<ul>
<li>Permite capturar errores en tiempo de ejecución antes de que generen interrupciones graves en el sistema.</li>
<li>Ayuda a evitar la caída completa de la aplicación, permitiendo una recuperación controlada.</li>
</ul>
<p><strong>Mejora de la experiencia del usuario:</strong></p>
<ul>
<li>Proporciona mensajes claros y útiles cuando ocurre un error, evitando que el usuario reciba información técnica confusa o sin sentido.</li>
</ul>
<p><strong>Facilita la depuración:</strong></p>
<ul>
<li>Al registrar o capturar información relevante sobre las excepciones, los desarrolladores pueden analizar y resolver los problemas de manera más eficiente.</li>
</ul>
<p><strong>Modularidad y robustez:</strong></p>
<ul>
<li>Ayuda a encapsular errores dentro de módulos específicos, reduciendo el impacto en otras partes del sistema.</li>
</ul>
<p><strong>Cumplimiento de flujos de negocio:</strong></p>
<ul>
<li>Garantiza que los procesos críticos sigan un comportamiento predecible, incluso en situaciones excepcionales.</li>
</ul>
<h2 id="flujos-esperados">Flujos Esperados</h2>
<p>Dentro de cualquier arquitectura o sistema, los flujos operativos suelen responder a uno de tres escenarios principales:  </p>
<h3 id="happy-path-camino-feliz">Happy Path (Camino Feliz)</h3>
<p>Es el flujo ideal, donde todo funciona correctamente y el sistema cumple su objetivo de manera esperada. Los datos son válidos, las reglas de negocio se respetan y no se presentan problemas técnicos. Este es el flujo que normalmente se diseña y prueba primero, ya que refleja el comportamiento estándar del sistema bajo condiciones óptimas.  </p>
<h3 id="violacion-de-reglas-de-negocio-o-usuario">Violación de Reglas de Negocio o Usuario</h3>
<p>Se produce cuando se infringen las reglas establecidas en el dominio del negocio o las políticas del sistema. Estas situaciones están <strong>dentro de los escenarios esperados</strong> y, por lo tanto, son manejadas explícitamente en los flujos del sistema.</p>
<p>Ejemplos comunes incluyen un usuario intenta realizar una acción para la cual no tiene permisos o el envío de datos que no cumplen con las validaciones definidas (e.g., campos obligatorios vacíos, formatos incorrectos).  </p>
<p>En estos casos, el sistema responde con mensajes claros que informan al usuario sobre la regla violada y cómo puede corregir el error. <strong>No se consideran excepciones técnicas</strong>, ya que forman parte de las reglas previstas del sistema y están diseñadas para manejarse sin interrupciones críticas.  </p>
<h3 id="excepcion-tecnica-o-de-codigo">Excepción Técnica o de Código</h3>
<ul>
<li>Este escenario representa fallos imprevistos en el sistema causados por problemas técnicos. Las excepciones técnicas son <strong>errores no deseados</strong> que están fuera del control directo del sistema o del usuario.  </li>
<li>Ejemplos incluyen:</li>
<li>Errores de conexión con una base de datos.  </li>
<li>Nulidad de un objeto no controlada (e.g., <code>NullPointerException</code> en Java).  </li>
<li>Tiempo de espera agotado al consumir un servicio externo.  </li>
<li>Estas situaciones deben capturarse mediante mecanismos de manejo de excepciones para evitar caídas abruptas del sistema. Esto permite:</li>
<li>Implementar una recuperación controlada.  </li>
<li>Notificar adecuadamente al usuario o al equipo técnico.  </li>
</ul>
<p>Por lo anterior es crucial diferenciar el tratamiento de los flujos <em>no-happy path</em>, ya que lanzar excepciones indiscriminadamente puede ser perjudicial para el sistema. Cuando se lanza una excepción, el sistema debe recolectar información para construir la pila de errores (stack trace), lo que implica un consumo considerable de recursos. Además, las excepciones interrumpen abruptamente el flujo de ejecución, lo que puede tener consecuencias no deseadas en sistemas complejos o distribuidos.  </p>
<h2 id="manejo-de-excepciones-en-la-dsa">Manejo de Excepciones en la DSA</h2>
<p>Cada capa principal de la DSA tiene su excepción declarada en su carpeta <code>exceptions</code>. Es asi que encontraremos tres clases llamadas <code>DomainException</code>, <code>ApplicationException</code> e <code>InfrastructureException</code>. Estas clase extienden una superclase abstracta llamada <code>BaseException</code> que provee dos constructores base: <code>BaseException(String message)</code> y <code>BaseException(String message, Throwable cause)</code>.</p>
<p>En el caso de <code>ApplicationException</code> tiene un atributo del tipo <code>BaseMessage</code> que se inicializa en su constructor <code>ApplicationException(String message, BaseMessage baseMessage)</code> y ademas provee un método llamado <code>getBaseMessage()</code>. Esto con el fin de darle manejo a las excepciones lanzadas desde otros servicios y poder transportar el problema raíz hasta el sistema cliente.</p>
<p>Dado que estas excepciones son técnicas y no deben ser visibles en detalle para el sistema cliente pero si para el equipo técnico interno, estas se lanzan acompañadas de un registro de logging basado en <code>SLF4J</code> para almacenar información detallada sobre las excepciones. Esto es crucial para la trazabilidad y el diagnóstico.</p>
<p>El siguiente es un ejemplo del uso de excepciones de la DSA:</p>
<div class="language-java highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Bloque ejemplo de manejo de errores</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="p">...</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">ResourceAccessException</span><span class="w"> </span><span class="n">ex</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="w">    </span><span class="n">log</span><span class="p">.</span><span class="na">error</span><span class="p">(</span><span class="n">LogMessage</span><span class="p">.</span><span class="na">create</span><span class="p">(</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="w">        </span><span class="n">traceId</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="w">        </span><span class="n">TGS001</span><span class="p">.</span><span class="na">getError</span><span class="p">(),</span><span class="w"> </span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="w">        </span><span class="n">TGS001</span><span class="p">.</span><span class="na">getDescription</span><span class="p">(),</span><span class="w"> </span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="w">        </span><span class="n">ex</span><span class="p">.</span><span class="na">getMessage</span><span class="p">())</span><span class="w"> </span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="w">        </span><span class="p">);</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10"></a>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="w">    </span><span class="k">throw</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">InfrastructureException</span><span class="p">(</span><span class="n">TGS001</span><span class="p">.</span><span class="na">getError</span><span class="p">());</span><span class="w"> </span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="w">    </span><span class="c1">// Excepción de la capa de infraestructura</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13"></a>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<p>Nótese que el uso de las excepciones debe ir acompañado de su respectivo registro en los logs. Esto es fundamental, ya que, aunque las excepciones permiten gestionar errores de ejecución y notificarlos al sistema cliente, este no debe exponer detalles técnicos sensibles al usuario final. La responsabilidad de capturar y almacenar dicha información recae en la trazabilidad operativa, que, mediante un proceso paralelo, se encarga de registrar los detalles relevantes para el diagnóstico y la solución del problema.</p>
<div class="language-json highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Respuesta de error al cliente</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="p">{</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="w">    </span><span class="nt">&quot;operationType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SELL&quot;</span><span class="p">,</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="w">    </span><span class="nt">&quot;subOperationType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SUBSCRIPTION&quot;</span><span class="p">,</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4"></a><span class="w">    </span><span class="nt">&quot;traceId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fb4bbc82-beef-43dc-9f34-4d858cd52c99&quot;</span><span class="p">,</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="w">    </span><span class="nt">&quot;messageStatus&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ERROR&quot;</span><span class="p">,</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="w">    </span><span class="nt">&quot;dataSection&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="w">        </span><span class="nt">&quot;sections&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8"></a><span class="w">            </span><span class="nt">&quot;errorMessage&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TGS001: SERVICIO NO DISPONIBLE&quot;</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Registro en logs del error</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span>
<span class="normal"><a href="#__codelineno-2-4">4</a></span>
<span class="normal"><a href="#__codelineno-2-5">5</a></span>
<span class="normal"><a href="#__codelineno-2-6">6</a></span>
<span class="normal"><a href="#__codelineno-2-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1"></a>2024-12-11 09:35:52.745 [http-nio-8080-exec-2] 
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2"></a>ERROR [DataCollectorAdapter.java:84] 
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3"></a>- [TraceId: fb4bbc82-beef-43dc-9f34-4d858cd52c99 
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4"></a>- Error: TGS001: SERVICIO NO DISPONIBLE 
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5"></a>- Descripción: Servicio Data Collector no disponible 
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6"></a>- Detalle: I/O error on POST request for &quot;http://localhost:8081/api/v1/&quot;: 
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7"></a>Connect to localhost:8081 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1]]
</span></code></pre></div></td></tr></table></div>
<p>para complementar el tema, revise el capitulo de  <a href="trazabilidad.html#trazabilidad-operativa">trazabilidad operativa</a></p>
<h2 id="que-se-debe-tener-en-cuenta-al-manejar-excepciones">¿Qué se debe tener en cuenta al manejar excepciones?</h2>
<p><strong>Evitar capturar excepciones genéricas innecesariamente:</strong></p>
<ul>
<li>Utilizar excepciones específicas en lugar de capturar <code>Exception</code> o <code>Throwable</code>, ya que esto puede ocultar errores importantes.</li>
</ul>
<p><strong>Mantener mensajes claros y significativos:</strong></p>
<ul>
<li>Al lanzar excepciones, asegurarse de incluir información relevante sobre el problema para facilitar la resolución.</li>
</ul>
<p><strong>No abusar de excepciones para flujos normales:</strong></p>
<ul>
<li>Las excepciones son para situaciones inesperadas, no para manejar condiciones regulares de negocio.</li>
</ul>
<p><strong>Usar bloques <code>try-catch</code> de forma específica:</strong></p>
<ul>
<li>Limitar los bloques <code>try-catch</code> al código donde realmente puede ocurrir una excepción. Esto facilita la lectura y evita capturas innecesarias.</li>
</ul>
<p><strong>Registrar las excepciones (Logging):</strong></p>
<ul>
<li>Utiliza herramientas de registro para almacenar información sobre las excepciones.</li>
</ul>
<p><strong>No suprimir excepciones sin manejarlas:</strong></p>
<ul>
<li>Si se captura una excepción, asegurarse de manejarla adecuadamente o relanzarla si no se puede resolverla en el contexto actual.</li>
</ul>
<p><strong>Definir excepciones personalizadas:</strong></p>
<ul>
<li>Para contextos específicos del negocio, crear excepciones propias que representen claramente el error y su impacto.</li>
</ul>
<p><strong>Limpieza de recursos:</strong></p>
<ul>
<li>Asegurarse de cerrar conexiones, liberar memoria o manejar recursos en un bloque <code>finally</code> o utilizando estructuras como <code>try-with-resources</code>.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 Linea Datascan
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.top"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8d2eff1.min.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>